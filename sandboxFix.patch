--- a/scripts/build/sandboxFix.mjs
+++ b/scripts/build/sandboxFix.mjs
@@ -21,6 +21,11 @@ export async function applyAppImageSandboxFix() {
     if (isApplied) return;
     isApplied = true;

+    // if AppImageTarget is not available (e.g., building with --dir), skip this fix
+    if (!AppImageTarget.default?.prototype?.build) {
+        return;
+    }
+
     const oldBuildMethod = AppImageTarget.default.prototype.build;
     AppImageTarget.default.prototype.build = async function (...args) {
         console.log("Running AppImage builder hook", args);
